<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Details | Batumi Island Estates</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/static/css/style.css" />

    <!-- Navbar & Footer -->
    <script src="/static/components/navbar.js" defer></script>
    <script src="/static/components/footer.js" defer></script>

    <style>
        /* Smooth fade-up animation */
        @keyframes fadeUp {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .fade-up { animation: fadeUp 1s ease-out forwards; }

        /* Gold divider */
        .section-divider {
            width: 80px;
            height: 4px;
            margin: 1rem auto;
            border-radius: 9999px;
            background: linear-gradient(to right, #fbbf24, #facc15, #fbbf24);
        }

        /* Carousel image */
        .gallery-img {
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }
        .gallery-img:hover {
            transform: scale(1.03);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
        }

        .carousel-btn {
            @apply flex items-center justify-center w-10 h-10 md:w-12 md:h-12 rounded-full border border-amber-400/70 bg-black/30 backdrop-blur-sm;
        }
    </style>
</head>

<body class="bg-white font-sans">

    <custom-navbar></custom-navbar>

    <!-- HERO: Project Details & Construction Progress -->
    <section class="w-full relative">
        <video autoplay muted loop playsinline class="w-full h-[420px] md:h-[460px] object-cover">
            <!-- üîÅ Replace this with your REAL construction progress video -->
            <!-- Example: /static/videos/construction-progress.mp4 -->
            <source src="https://huggingface.co/spaces/ankita3108/batumi-bliss-bungalows/resolve/main/videos/Progress Islands - November 2025 edited.mp4" type="video/mp4" />
        </video>

        <div class="absolute inset-0 bg-black bg-opacity-45 flex items-center justify-center text-center px-4">
            <div class="fade-up">
                <h1 class="text-white text-3xl md:text-5xl font-bold tracking-wide">
                    Project Details & Construction Progress
                </h1>
                <p class="mt-3 md:mt-4 text-gray-100 text-sm md:text-base max-w-2xl mx-auto">
                    Follow the ongoing construction journey of Batumi Island Estates and preview the
                    island's post-completion lifestyle, amenities and waterfront experience.
                </p>
            </div>
        </div>
    </section>

    <!-- SECTION: Live Construction Progress -->
    <section class="py-12 bg-gray-50 fade-up">
    <div class="max-w-xl mx-auto text-center">
        <h2 class="text-2xl font-bold text-gray-900">
        Live Construction Progress
        </h2>
        <div class="section-divider"></div>
        <p class="text-gray-700 mt-2 text-sm">
        The video above showcases the real-time progress of infrastructure, bridges,
        landscaping, and premium residential zones across the islands. As each
        phase advances, Batumi Island Estates moves closer to delivering a fully
        integrated luxury waterfront community in the heart of the Black Sea.
        </p>
    </div>
    </section>

    <!-- SECTION: Post-Construction Island Visuals (Luxury Culture-Style Carousel) -->
    <section class="py-16 bg-white fade-up">
    <div class="max-w-6xl mx-auto px-4">
        
        <!-- Title -->
        <div class="text-center">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-900">
            Island Vision After Completion
        </h2>
        <div class="section-divider"></div>
        <p class="mt-4 text-gray-700 md:text-lg max-w-3xl mx-auto text-justify">
            Explore how Batumi Island Estates will transform into a fully integrated luxury waterfront community ‚Äî
            with promenades, landscaped terraces, resort pools, caf√©s, shopping boulevards, and an illuminated skyline
            reflecting across the serene Black Sea.
        </p>
        </div>

        <!-- CULTURE-STYLE LUXURY CAROUSEL -->
        <div class="relative mt-10 group">
        
        <!-- Scrollable row (same structure as Life in Georgia) -->
        <div
            id="islandCultureCarousel"
            class="flex gap-6 overflow-x-auto snap-x snap-mandatory pb-4
                scrollbar-thin scrollbar-thumb-amber-400/70 scrollbar-track-gray-200"
        >

            <!-- SLIDE 1 -->
            <article
            class="relative min-w-[260px] md:min-w-[320px] lg:min-w-[360px]
                    snap-center rounded-2xl overflow-hidden shadow-xl bg-black/60"
            >
            <img
                src="/static/images/island-vision/island1.jpeg"
                alt="Island promenade and luxury towers"
                class="w-full h-64 object-cover transition-transform duration-500 hover:scale-105"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>

            <div class="absolute bottom-4 right-4 text-right max-w-[80%]">
                <div class="inline-block bg-black/60 px-3 py-1 rounded-full text-[11px]
                            uppercase tracking-wide text-amber-300 border border-amber-400/70">
                Waterfront Promenade
                </div>
                <h3 class="mt-2 text-white text-base md:text-lg font-semibold">
                Seafront Towers & Marina Living
                </h3>
                <p class="mt-1 text-xs md:text-sm text-gray-200">
                Panoramic towers overlooking the sea with private marina access for residents.
                </p>
            </div>
            </article>

            <!-- SLIDE 2 -->
            <article
            class="relative min-w-[260px] md:min-w-[320px] lg:min-w-[360px]
                    snap-center rounded-2xl overflow-hidden shadow-xl bg-black/60"
            >
            <img
                src="/static/images/island-vision/island2.jpeg"
                alt="Resort pool decks and terraces"
                class="w-full h-64 object-cover transition-transform duration-500 hover:scale-105"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>

            <div class="absolute bottom-4 right-4 text-right max-w-[80%]">
                <div class="inline-block bg-black/60 px-3 py-1 rounded-full text-[11px]
                            uppercase tracking-wide text-amber-300 border border-amber-400/70">
                Resort Amenities
                </div>
                <h3 class="mt-2 text-white text-base md:text-lg font-semibold">
                Infinity Pools & Landscaped Terraces
                </h3>
                <p class="mt-1 text-xs md:text-sm text-gray-200">
                Elevated decks, lounge cabanas and lush green walkways for relaxation.
                </p>
            </div>
            </article>

            <!-- SLIDE 3 -->
            <article
            class="relative min-w-[260px] md:min-w-[320px] lg:min-w-[360px]
                    snap-center rounded-2xl overflow-hidden shadow-xl bg-black/60"
            >
            <img
                src="/static/images/island-vision/island3.png"
                alt="Island skyline at night"
                class="w-full h-64 object-cover transition-transform duration-500 hover:scale-105"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>

            <div class="absolute bottom-4 right-4 text-right max-w-[80%]">
                <div class="inline-block bg-black/60 px-3 py-1 rounded-full text-[11px]
                            uppercase tracking-wide text-amber-300 border border-amber-400/70">
                Night Skyline
                </div>
                <h3 class="mt-2 text-white text-base md:text-lg font-semibold">
                Illuminated Waterfront Living
                </h3>
                <p class="mt-1 text-xs md:text-sm text-gray-200">
                The island glowing under the night sky, creating a new landmark of Georgia.
                </p>
            </div>
            </article>

            <!-- SLIDE 4 -->
            <article
            class="relative min-w-[260px] md:min-w-[320px] lg:min-w-[360px]
                    snap-center rounded-2xl overflow-hidden shadow-xl bg-black/60"
            >
            <img
                src="/static/images/island-vision/island4.png"
                alt="Island boulevard retail zone"
                class="w-full h-64 object-cover transition-transform duration-500 hover:scale-105"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>

            <div class="absolute bottom-4 right-4 text-right max-w-[80%]">
                <div class="inline-block bg-black/60 px-3 py-1 rounded-full text-[11px]
                            uppercase tracking-wide text-amber-300 border border-amber-400/70">
                Boulevard Living
                </div>
                <h3 class="mt-2 text-white text-base md:text-lg font-semibold">
                Caf√©s ‚Ä¢ Retail ‚Ä¢ Island Promenade
                </h3>
                <p class="mt-1 text-xs md:text-sm text-gray-200">
                A premium lifestyle boulevard featuring boutique retail and seaside caf√©s.
                </p>
            </div>
            </article>

        </div>

        <!-- LEFT ARROW -->
        <button
            type="button"
            class="hidden md:flex group-hover:flex items-center justify-center
                absolute left-0 top-1/2 -translate-y-1/2
                w-10 h-10 rounded-full
                bg-black/40 text-white text-xl font-semibold shadow-lg
                hover:bg-black/60 transition"
            onclick="document.getElementById('islandCultureCarousel').scrollBy({ left: -350, behavior: 'smooth' })"
            aria-label="Scroll left"
        >
            ‚Äπ
        </button>

        <!-- RIGHT ARROW -->
        <button
            type="button"
            class="hidden md:flex group-hover:flex items-center justify-center
                absolute right-0 top-1/2 -translate-y-1/2
                w-10 h-10 rounded-full
                bg-black/40 text-white text-xl font-semibold shadow-lg
                hover:bg-black/60 transition"
            onclick="document.getElementById('islandCultureCarousel').scrollBy({ left: 350, behavior: 'smooth' })"
            aria-label="Scroll right"
        >
            ‚Ä∫
        </button>

        </div>  
    </div>
    </section>


    <!-- DOWNLOAD BROCHURE FORM -->
    <section id="brochure-download" class="py-12 bg-gray-50 mt-12 fade-up">
    <div class="max-w-xl mx-auto text-center">
        <h2 class="text-2xl font-bold text-gray-900">Download the Official Project Brochure</h2>
        <div class="section-divider"></div>
        <p class="text-gray-700 mt-2 text-sm">Enter your email to receive the brochure instantly.</p>

        <form id="brochureForm" class="mt-6 space-y-4">
        <input 
            type="email"
            id="brochureEmail"
            name="email"
            placeholder="Enter your email address"
            required
            class="w-full border border-gray-300 rounded-md px-4 py-2 text-sm focus:ring-amber-500 focus:border-amber-500"
        />

        <button 
            type="submit"
            class="w-full bg-amber-600 text-white py-2 rounded-md font-semibold hover:bg-amber-700 transition"
        >
            Download Brochure
        </button>

        <p id="brochureMessage" class="text-sm mt-2 text-center"></p>
        </form>
    </div>
    </section>

    <!-- Schedule Google Meet -->
    <section class="py-16 bg-white">
        <div class="max-w-4xl mx-auto px-4 text-center fade-up">

            <h2 class="text-2xl md:text-3xl font-bold text-gray-900">
                Schedule a Google Meet Consultation
            </h2>
            <div class="section-divider"></div>

            <p class="text-gray-700 md:text-lg max-w-2xl mx-auto text-justify">
                Book a personalised consultation with our senior advisory team to walk through
                the project details, investment structures, and your personalised acquisition path
                at Batumi Island Estates.
            </p>

            <!-- üîÅ Use your actual Google Calendar booking URL here -->
            <a 
                href="https://calendar.google.com/calendar/u/0/appointments/schedules/AcZssZ2Zp2uU01HK"
                target="_blank"
                class="inline-block mt-6 bg-amber-600 text-white px-8 py-3 rounded-md font-semibold hover:bg-amber-700 transition text-sm md:text-base"
            >
                Schedule a Google Meet
            </a>
        </div>
    </section>

    <custom-footer></custom-footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
        const carousel = document.getElementById("islandCultureCarousel");
        if (!carousel) return;

        const cards = carousel.querySelectorAll("article");
        if (!cards.length) return;

        // Compute one scroll "step" = card width + gap
        const getStep = () => {
            const first = cards[0].getBoundingClientRect();
            // 24px ‚âà gap-6 between cards; adjust if you change gap
            return first.width + 24;
        };

        let step = getStep();

        // Recalculate on resize
        window.addEventListener("resize", () => {
            step = getStep();
        });

        let autoTimer = null;

        function doAutoScroll() {
            const maxScroll = carousel.scrollWidth - carousel.clientWidth;
            const nextScroll = carousel.scrollLeft + step;

            if (nextScroll >= maxScroll - 5) {
            // Go back to start
            carousel.scrollTo({
                left: 0,
                behavior: "smooth",
            });
            } else {
            carousel.scrollTo({
                left: nextScroll,
                behavior: "smooth",
            });
            }
        }

        function startAuto() {
            stopAuto();
            autoTimer = setInterval(doAutoScroll, 6000); // every 6 seconds
        }

        function stopAuto() {
            if (autoTimer) {
            clearInterval(autoTimer);
            autoTimer = null;
            }
        }

        // Pause when user hovers over the carousel
        carousel.addEventListener("mouseenter", stopAuto);
        carousel.addEventListener("mouseleave", startAuto);

        // Also restart autoplay after user clicks the left/right arrows
        const wrapper = carousel.parentElement;
        if (wrapper) {
            wrapper.addEventListener("click", (e) => {
            if (e.target.closest("button")) {
                startAuto();
            }
            });
        }

        // Start autoplay on load
        startAuto();
        });

        // ---------------------------
        // Brochure form handling
        // ---------------------------
        document.getElementById("brochureForm").addEventListener("submit", async function (e) {
            e.preventDefault();

            const emailInput = document.getElementById("brochureEmail");
            const msg = document.getElementById("brochureMessage");
            const button = this.querySelector("button[type='submit']");

            const email = emailInput.value.trim();
            if (!email) {
            msg.innerText = "Please enter your email address.";
            msg.style.color = "red";
            return;
            }

            msg.innerText = "Sending...";
            msg.style.color = "gray";
            button.disabled = true;

            try {
            const response = await fetch("/api/send-brochure", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ email })
            });

            let data = {};
            try {
                data = await response.json();
            } catch (_) {
                // If backend returned HTML instead of JSON
                data = {};
            }

            if (response.ok && data.ok) {
                msg.innerText = data.message || "Brochure sent! Please check your inbox.";
                msg.style.color = "green";
                emailInput.value = "";
            } else {
                msg.innerText = (data && data.message) || "Error sending brochure. Please try again.";
                msg.style.color = "red";
            }
            } catch (err) {
            console.error("Brochure error:", err);
            msg.innerText = "Network error. Please try again.";
            msg.style.color = "red";
            } finally {
            button.disabled = false;
            }
        });
    </script>

</body>
</html>
